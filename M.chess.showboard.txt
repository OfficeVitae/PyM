; displays the #board fields, showing the pieces and whether or not it is a check piece
; the problem with check pieces it is that they can be for black and for white at the
; same position, we can show the current player's check field left and the other player's
; to the right in the proper color
out("Chess board after ",movecount+" moves.",lf,'  a  b  c  d  e  f  g  h',lf)
for(row,ranges(playerindex),out(row),for(col,1..8,bg=if((row%2)^(col%2),251,247),outc((if(playerindex==2,16,231),bg),getCheckPieceCharacter(playerindex,row,col)),outc((if(board(row,col)<0,16,231),bg),if(board(row,col)!=0,piecetypes(abs(board(row,col))),' ')),outc((if(playerindex==1,16,231),bg),getCheckPieceCharacter(3-playerindex,row,col))),out(row,lf))
out('  a  b  c  d  e  f  g  h',lf)
